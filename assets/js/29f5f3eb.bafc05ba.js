"use strict";(self.webpackChunkdoc_elixir=self.webpackChunkdoc_elixir||[]).push([[30],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>v});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,v=c["".concat(l,".").concat(m)]||c[m]||d[m]||i;return n?r.createElement(v,o(o({ref:t},u),{},{components:n})):r.createElement(v,o({ref:t},u))}));function v(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4537:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:4,sidebar_label:"Mini-Project #2 - Frontend (client)"},o="Mini-Project #2 - Frontend (Vue.js - chart.js - Vuetify)",s={unversionedId:"frontend",id:"frontend",title:"Mini-Project #2 - Frontend (Vue.js - chart.js - Vuetify)",description:"2 - Frontend (Vue.js - chart.js - Vuetify)",source:"@site/docs/frontend.md",sourceDirName:".",slug:"/frontend",permalink:"/docs/frontend",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/frontend.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Mini-Project #2 - Frontend (client)"},sidebar:"docs",previous:{title:"Mini-Project #1 - API (serveur)",permalink:"/docs/api"}},l={},p=[{value:"Initialisation du projet",id:"initialisation-du-projet",level:2},{value:"Installation / Lancement du projet",id:"installation--lancement-du-projet",level:2},{value:"Charte graphique avec Balsamiq",id:"charte-graphique-avec-balsamiq",level:2},{value:"Routage avec vue-router",id:"routage-avec-vue-router",level:2},{value:"Installation",id:"installation",level:3},{value:"D\xe9claration des routes",id:"d\xe9claration-des-routes",level:3},{value:"Injection des composants dans App.vue",id:"injection-des-composants-dans-appvue",level:3},{value:"Param\xe8tres d&#39;URL",id:"param\xe8tres-durl",level:3},{value:"Redirection",id:"redirection",level:3},{value:"Affichage des graphiques avec chart-js",id:"affichage-des-graphiques-avec-chart-js",level:2},{value:"Pourquoi chart-js ?",id:"pourquoi-chart-js-",level:3},{value:"Installation",id:"installation-1",level:3},{value:"Utilisation",id:"utilisation",level:3},{value:"Int\xe9gration rapide avec Vuetify (Librairie CSS)",id:"int\xe9gration-rapide-avec-vuetify-librairie-css",level:2},{value:"Installation",id:"installation-2",level:3},{value:"Utilisation",id:"utilisation-1",level:3}],u={toc:p},c="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"mini-project-2---frontend-vuejs---chartjs---vuetify"},"Mini-Project #2 - Frontend (Vue.js - chart.js - Vuetify)"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Objectif :")," R\xe9aliser une vue permettant la r\xe9tribution des donn\xe9es sous la forme d'un dashboard de graphiques"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Contraintes :")," Utilisation de Vue.js - Une seule vue dynamiquement remplie - R\xe9alisation de plusieurs graphiques"),(0,a.kt)("h2",{id:"initialisation-du-projet"},"Initialisation du projet"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"vue create frontend\ncd frontend/\n")),(0,a.kt)("h2",{id:"installation--lancement-du-projet"},"Installation / Lancement du projet"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn install\nyarn dev\n\n$ vite\n\n  VITE v4.5.0  ready in 420 ms\n\n  \u279c  Local:   http://localhost:5173/\n  \u279c  Network: use --host to expose\n  \u279c  press h to show help\n")),(0,a.kt)("h2",{id:"charte-graphique-avec-balsamiq"},"Charte graphique avec Balsamiq"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Police d'\xe9criture : ",(0,a.kt)("strong",{parentName:"li"},"Figtree")),(0,a.kt)("li",{parentName:"ul"},"Tailles de police d'\xe9criture :",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Titres : ",(0,a.kt)("strong",{parentName:"li"},"Figtree Semibold 600")),(0,a.kt)("li",{parentName:"ul"},"Menus et sous-titres : ",(0,a.kt)("strong",{parentName:"li"},"Figtree Regular 400")),(0,a.kt)("li",{parentName:"ul"},"Corps de texte : ",(0,a.kt)("strong",{parentName:"li"},"Figtree Light 300")))),(0,a.kt)("li",{parentName:"ul"},"Couleurs principales : ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("font",{color:"#6AA84F"},"#6AA84F"))," et ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("font",{color:"#A8A54F"},"#A8A54F"))),(0,a.kt)("li",{parentName:"ul"},"Couleurs secondaires : ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("font",{color:"#346F3A"},"#346F3A"))," et ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("font",{color:"#C1E36A"},"#C1E36A")))),(0,a.kt)("h2",{id:"routage-avec-vue-router"},"Routage avec vue-router"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://router.vuejs.org/"},"vue-router documentation")),(0,a.kt)("h3",{id:"installation"},"Installation"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# Yarn :\nyarn add vue-router@4\n\n# NPM :\nnpm install vue-router@4\n")),(0,a.kt)("h3",{id:"d\xe9claration-des-routes"},"D\xe9claration des routes"),(0,a.kt)("p",null,"Dans le fichier ",(0,a.kt)("em",{parentName:"p"},"router.ts")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Route {\n    path: string;\n    name: string;\n    component: any;\n    props?: boolean;\n}\n\nconst routes: Route[] = [\n  { path: '/', name: \"home\", component: Home },\n  { path: '/users', name: \"users\", component: UserDashboard },\n  { path: '/workingTime/:userid', component: WorkingTime, props: true },\n  { path: '/workingTime/:userid/:workingtimeid', component: WorkingTime, props: true },\n  { path: '/workingtimes/:userid', component: Workingtimes },\n  { path: '/chartManager/:userid', component: chartManager, props: true },\n  { path: '/login', name: \"login\", component: Login },\n  { path: '/register', name: \"register\", component: Register },\n  { path: '/clock/:userID', component: Clock, props:true },\n  { path: '/:pathMatch(.*)*', name: 'not-found', component: PageNotFound },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nexport default router;\n")),(0,a.kt)("p",null,"Dans le fichier *main.js :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import router from './router';\n\ncreateApp(App).use(router).mount('#app')\n")),(0,a.kt)("h3",{id:"injection-des-composants-dans-appvue"},"Injection des composants dans App.vue"),(0,a.kt)("p",null,"Dans le fichier ",(0,a.kt)("em",{parentName:"p"},"App.vue")," :"),(0,a.kt)("p",null,"La balise ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"<router-view> </router-view>"))," contiendra le composant rendu par le router"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},'<script setup>\n    import Navbar from "../src/components/Navbar.vue";\n<\/script>\n\n<template>\n  <div id="navbar">\n    <Navbar />\n  </div>\n  <div id="main">\n    <Suspense>\n      <router-view></router-view>\n    </Suspense>\n  </div>\n</template>\n')),(0,a.kt)("h3",{id:"param\xe8tres-durl"},"Param\xe8tres d'URL"),(0,a.kt)("p",null,"Soit la route pr\xe9cedemment d\xe9clar\xe9e ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"{ path: '/workingTime/:userid', component: WorkingTime, props: true }")),", l'attribut props indique qu'il au router qu'une ou plusieurs props doivent etre extraitent du path."),(0,a.kt)("p",null,"Dans le composant ",(0,a.kt)("strong",{parentName:"p"},"WorkingTime")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'export default {\n  name: "WorkingTime",\n  props: {\n    userid: String,\n    workingtimeid: String,\n  },\n  methods: {\n    // [...]\n  },\n  async setup(props) {\n    // [...]\n\n    return {\n        userid,\n        workingtimeid\n    }\n  }\n}\n\n// userid and workingtimeid are accessibles anywhere within the current component\n')),(0,a.kt)("h3",{id:"redirection"},"Redirection"),(0,a.kt)("p",null,"Avec vue-router la vue App.vue est dynamique, les redirections se font grace \xe0 la fonction ",(0,a.kt)("strong",{parentName:"p"},"push")," fournie par vue-router"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"// ```{ path: '/workingTime/:userid', component: WorkingTime, props: true }```\n\nrouter.push({ `/workingTime/${userid}` });\n")),(0,a.kt)("h2",{id:"affichage-des-graphiques-avec-chart-js"},"Affichage des graphiques avec chart-js"),(0,a.kt)("h3",{id:"pourquoi-chart-js-"},"Pourquoi chart-js ?"),(0,a.kt)("p",null,"Nous avons choisi d'utiliser chart-js pour 3 raisons majeures :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Le sujet conseille chart-js"),(0,a.kt)("li",{parentName:"ul"},"Sur ",(0,a.kt)("a",{parentName:"li",href:"https://www.npmjs.com/"},"npmjs.com"),", la librairie est parmi les plus populaires pour la g\xe9n\xe9ration de graphiques. Par extension, il y a donc beaucoup de ressources en ligne disponibles"),(0,a.kt)("li",{parentName:"ul"},"Certains membres du groupe ont d\xe9j\xe0 utilis\xe9 chart-js dans un autre contexte, la prise en main sera donc acceler\xe9e pour l'ensemble du groupe")),(0,a.kt)("h3",{id:"installation-1"},"Installation"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# Yarn :\nyarn add chart.js\n\n# NPM :\nnpm install chart.js\n")),(0,a.kt)("p",null,"Dans le fichier ",(0,a.kt)("em",{parentName:"p"},"index.html")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<script src="path/to/chartjs/dist/chart.umd.js"><\/script>\n')),(0,a.kt)("h3",{id:"utilisation"},"Utilisation"),(0,a.kt)("p",null,"Cr\xe9ons un fichier ",(0,a.kt)("em",{parentName:"p"},"HoursPerMonth")," contenu dans ",(0,a.kt)("em",{parentName:"p"},"@src/components/Charts/")),(0,a.kt)("p",null,"Il est n\xe9cessaire de 's'abonner' au composant chart-js afin de pouvoir rendre au client un graphique :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import { BarElement, CategoryScale, Chart as ChartJS, Legend, LinearScale, Title, Tooltip } from 'chart.js'\nimport { Bar } from 'vue-chartjs'\n\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend)\n")),(0,a.kt)("p",null,"Les options permettent de g\xe9rer certains aspects du graphiques de mani\xe8res simple, ici nous allons rendre le graphique responsive en quelques lignes :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const options = {\n    responsive: true,\n    preserveAspectRatio: true\n}\n")),(0,a.kt)("p",null,"Nous cr\xe9ons une variable ",(0,a.kt)("strong",{parentName:"p"},"data")," qui permettra de constituer la donn\xe9e n\xe9cessaire \xe0 l'affichage : "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const data = {\n  labels: [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n  ],\n  datasets: [\n    {\n      label: 'Data One',\n      backgroundColor: '#f87979',\n      data: [40, 20, 12, 39, 10, 40, 39]\n    }\n  ]\n}\n")),(0,a.kt)("p",null,"Puis nous rendons le graphique de cette fa\xe7on :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'export default {\n  name: "HoursPerMonthChart",\n  components: {\n    Bar\n  },\n  data() {\n    return {\n      data: data,\n      options: options\n    };\n  },\n}\n\n<template>\n    <Bar :data="data" :options="options" />\n</template>\n')),(0,a.kt)("h2",{id:"int\xe9gration-rapide-avec-vuetify-librairie-css"},"Int\xe9gration rapide avec Vuetify (Librairie CSS)"),(0,a.kt)("h3",{id:"installation-2"},"Installation"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# Yarn :\nyarn add vuetify\n\n# NPM :\nnpm install vuetify\n\n# pnpm :\npnpm i vuetify\n")),(0,a.kt)("p",null,"Dans le fichier ",(0,a.kt)("em",{parentName:"p"},"main.js")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"// Vuetify\nimport 'vuetify/styles'\nimport { createVuetify } from 'vuetify'\nimport * as components from 'vuetify/components'\nimport * as directives from 'vuetify/directives'\n\nconst vuetify = createVuetify({\n  components,\n  directives,\n  // ssr: true, -> If server-side rendering is needed, we don't\n})\n\ncreateApp(App).use(router).use(vuetify).mount('#app')\n")),(0,a.kt)("h3",{id:"utilisation-1"},"Utilisation"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://vuetifyjs.com/en/"},"Documentation officielle")),(0,a.kt)("p",null,"Une fois la librairie install\xe9e, les composants peuvent \xeatre utilis\xe9s directement dans les composants Vue :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'/* Submit button example */\n<v-btn type="submit" block @click="submit" color="success" class="mt-2">Se connecter</v-btn>\n\n/* Table display example */\n<v-table v-if="renderComponent">\n    <thead>\n        <tr>\n            <th class="text-left">\n                Nom d\'utilisateur\n            </th>\n            <th class="text-left">\n                Email\n            </th>\n            <th class="text-right">\n                Action (Supprimer)\n            </th>\n        </tr>\n    </thead>\n    <tbody v-if="userList" :key="userList">\n        <tr v-for="item in userList" :key="item.id">\n            <td>{{ item.username || "Non renseign\xe9" }}</td>\n            <td>{{ item.email || "Non renseign\xe9" }}</td>\n            <td>\n                <v-container>\n                    <v-row justify="end">\n                        <v-col cols="auto" class="delete-icon">\n                            <v-btn block @click="deleteUser(item.id)" class="m-2" id="working-time-form">\n                                <svg-icon type="mdi" :path="pictures.delete"></svg-icon>\n                            </v-btn>\n                        </v-col>\n                    </v-row>\n                </v-container>\n            </td>\n        </tr>\n    </tbody>\n</v-table>\n\n/* [...] */\n')))}d.isMDXComponent=!0}}]);