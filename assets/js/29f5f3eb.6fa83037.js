"use strict";(self.webpackChunkdoc_elixir=self.webpackChunkdoc_elixir||[]).push([[30],{6270:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var t=r(5893),i=r(3905);const s={sidebar_position:4,sidebar_label:"Mini-Project #2 - Frontend (client)"},a="Mini-Project #2 - Frontend (Vue.js - chart.js - Vuetify)",o={id:"frontend",title:"Mini-Project #2 - Frontend (Vue.js - chart.js - Vuetify)",description:"2 - Frontend (Vue.js - chart.js - Vuetify)",source:"@site/docs/frontend.md",sourceDirName:".",slug:"/frontend",permalink:"/docs/frontend",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/frontend.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Mini-Project #2 - Frontend (client)"},sidebar:"docs",previous:{title:"Mini-Project #1 - API (serveur)",permalink:"/docs/api"},next:{title:"Mini-Project #4 - Design Thinking",permalink:"/docs/designThinking"}},l={},c=[{value:"Initialisation du projet",id:"initialisation-du-projet",level:2},{value:"Installation / Lancement du projet",id:"installation--lancement-du-projet",level:2},{value:"Charte graphique avec Balsamiq",id:"charte-graphique-avec-balsamiq",level:2},{value:"Routage avec vue-router",id:"routage-avec-vue-router",level:2},{value:"Installation",id:"installation",level:3},{value:"D\xe9claration des routes",id:"d\xe9claration-des-routes",level:3},{value:"Injection des composants dans App.vue",id:"injection-des-composants-dans-appvue",level:3},{value:"Param\xe8tres d&#39;URL",id:"param\xe8tres-durl",level:3},{value:"Redirection",id:"redirection",level:3},{value:"Affichage des graphiques avec chart-js",id:"affichage-des-graphiques-avec-chart-js",level:2},{value:"Pourquoi chart-js ?",id:"pourquoi-chart-js-",level:3},{value:"Installation",id:"installation-1",level:3},{value:"Utilisation",id:"utilisation",level:3},{value:"Int\xe9gration rapide avec Vuetify (Librairie CSS)",id:"int\xe9gration-rapide-avec-vuetify-librairie-css",level:2},{value:"Installation",id:"installation-2",level:3},{value:"Utilisation",id:"utilisation-1",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.ah)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"mini-project-2---frontend-vuejs---chartjs---vuetify",children:"Mini-Project #2 - Frontend (Vue.js - chart.js - Vuetify)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Objectif :"})," R\xe9aliser une vue permettant la r\xe9tribution des donn\xe9es sous la forme d'un dashboard de graphiques"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Contraintes :"})," Utilisation de Vue.js - Une seule vue dynamiquement remplie - R\xe9alisation de plusieurs graphiques"]}),"\n",(0,t.jsx)(n.h2,{id:"initialisation-du-projet",children:"Initialisation du projet"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"vue create frontend\r\ncd frontend/\n"})}),"\n",(0,t.jsx)(n.h2,{id:"installation--lancement-du-projet",children:"Installation / Lancement du projet"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn install\r\nyarn dev\r\n\r\n$ vite\r\n\r\n  VITE v4.5.0  ready in 420 ms\r\n\r\n  \u279c  Local:   http://localhost:5173/\r\n  \u279c  Network: use --host to expose\r\n  \u279c  press h to show help\n"})}),"\n",(0,t.jsx)(n.h2,{id:"charte-graphique-avec-balsamiq",children:"Charte graphique avec Balsamiq"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Police d'\xe9criture : ",(0,t.jsx)(n.strong,{children:"Figtree"})]}),"\n",(0,t.jsxs)(n.li,{children:["Tailles de police d'\xe9criture :","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Titres : ",(0,t.jsx)(n.strong,{children:"Figtree Semibold 600"})]}),"\n",(0,t.jsxs)(n.li,{children:["Menus et sous-titres : ",(0,t.jsx)(n.strong,{children:"Figtree Regular 400"})]}),"\n",(0,t.jsxs)(n.li,{children:["Corps de texte : ",(0,t.jsx)(n.strong,{children:"Figtree Light 300"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Couleurs principales : ",(0,t.jsx)(n.strong,{children:(0,t.jsx)("font",{color:"#6AA84F",children:"#6AA84F"})})," et ",(0,t.jsx)(n.strong,{children:(0,t.jsx)("font",{color:"#A8A54F",children:"#A8A54F"})})]}),"\n",(0,t.jsxs)(n.li,{children:["Couleurs secondaires : ",(0,t.jsx)(n.strong,{children:(0,t.jsx)("font",{color:"#346F3A",children:"#346F3A"})})," et ",(0,t.jsx)(n.strong,{children:(0,t.jsx)("font",{color:"#C1E36A",children:"#C1E36A"})})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"routage-avec-vue-router",children:"Routage avec vue-router"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://router.vuejs.org/",children:"vue-router documentation"})}),"\n",(0,t.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Yarn :\r\nyarn add vue-router@4\r\n\r\n# NPM :\r\nnpm install vue-router@4\n"})}),"\n",(0,t.jsx)(n.h3,{id:"d\xe9claration-des-routes",children:"D\xe9claration des routes"}),"\n",(0,t.jsxs)(n.p,{children:["Dans le fichier ",(0,t.jsx)(n.em,{children:"router.ts"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface Route {\r\n    path: string;\r\n    name: string;\r\n    component: any;\r\n    props?: boolean;\r\n}\r\n\r\nconst routes: Route[] = [\r\n  { path: '/', name: \"home\", component: Home },\r\n  { path: '/users', name: \"users\", component: UserDashboard },\r\n  { path: '/workingTime/:userid', component: WorkingTime, props: true },\r\n  { path: '/workingTime/:userid/:workingtimeid', component: WorkingTime, props: true },\r\n  { path: '/workingtimes/:userid', component: Workingtimes },\r\n  { path: '/chartManager/:userid', component: chartManager, props: true },\r\n  { path: '/login', name: \"login\", component: Login },\r\n  { path: '/register', name: \"register\", component: Register },\r\n  { path: '/clock/:userID', component: Clock, props:true },\r\n  { path: '/:pathMatch(.*)*', name: 'not-found', component: PageNotFound },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes,\r\n});\r\n\r\nexport default router;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Dans le fichier *main.js :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import router from './router';\r\n\r\ncreateApp(App).use(router).mount('#app')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"injection-des-composants-dans-appvue",children:"Injection des composants dans App.vue"}),"\n",(0,t.jsxs)(n.p,{children:["Dans le fichier ",(0,t.jsx)(n.em,{children:"App.vue"})," :"]}),"\n",(0,t.jsxs)(n.p,{children:["La balise ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"<router-view> </router-view>"})})," contiendra le composant rendu par le router"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-vue",children:'<script setup>\r\n    import Navbar from "../src/components/Navbar.vue";\r\n<\/script>\r\n\r\n<template>\r\n  <div id="navbar">\r\n    <Navbar />\r\n  </div>\r\n  <div id="main">\r\n    <Suspense>\r\n      <router-view></router-view>\r\n    </Suspense>\r\n  </div>\r\n</template>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"param\xe8tres-durl",children:"Param\xe8tres d'URL"}),"\n",(0,t.jsxs)(n.p,{children:["Soit la route pr\xe9cedemment d\xe9clar\xe9e ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"{ path: '/workingTime/:userid', component: WorkingTime, props: true }"})}),", l'attribut props indique qu'il au router qu'une ou plusieurs props doivent etre extraitent du path."]}),"\n",(0,t.jsxs)(n.p,{children:["Dans le composant ",(0,t.jsx)(n.strong,{children:"WorkingTime"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'export default {\r\n  name: "WorkingTime",\r\n  props: {\r\n    userid: String,\r\n    workingtimeid: String,\r\n  },\r\n  methods: {\r\n    // [...]\r\n  },\r\n  async setup(props) {\r\n    // [...]\r\n\r\n    return {\r\n        userid,\r\n        workingtimeid\r\n    }\r\n  }\r\n}\r\n\r\n// userid and workingtimeid are accessibles anywhere within the current component\n'})}),"\n",(0,t.jsx)(n.h3,{id:"redirection",children:"Redirection"}),"\n",(0,t.jsxs)(n.p,{children:["Avec vue-router la vue App.vue est dynamique, les redirections se font grace \xe0 la fonction ",(0,t.jsx)(n.strong,{children:"push"})," fournie par vue-router"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// ```{ path: '/workingTime/:userid', component: WorkingTime, props: true }```\r\n\r\nrouter.push({ `/workingTime/${userid}` });\n"})}),"\n",(0,t.jsx)(n.h2,{id:"affichage-des-graphiques-avec-chart-js",children:"Affichage des graphiques avec chart-js"}),"\n",(0,t.jsx)(n.h3,{id:"pourquoi-chart-js-",children:"Pourquoi chart-js ?"}),"\n",(0,t.jsx)(n.p,{children:"Nous avons choisi d'utiliser chart-js pour 3 raisons majeures :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Le sujet conseille chart-js"}),"\n",(0,t.jsxs)(n.li,{children:["Sur ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/",children:"npmjs.com"}),", la librairie est parmi les plus populaires pour la g\xe9n\xe9ration de graphiques. Par extension, il y a donc beaucoup de ressources en ligne disponibles"]}),"\n",(0,t.jsx)(n.li,{children:"Certains membres du groupe ont d\xe9j\xe0 utilis\xe9 chart-js dans un autre contexte, la prise en main sera donc acceler\xe9e pour l'ensemble du groupe"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"installation-1",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Yarn :\r\nyarn add chart.js\r\n\r\n# NPM :\r\nnpm install chart.js\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Dans le fichier ",(0,t.jsx)(n.em,{children:"index.html"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<script src="path/to/chartjs/dist/chart.umd.js"><\/script>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"utilisation",children:"Utilisation"}),"\n",(0,t.jsxs)(n.p,{children:["Cr\xe9ons un fichier ",(0,t.jsx)(n.em,{children:"HoursPerMonth"})," contenu dans ",(0,t.jsx)(n.em,{children:"@src/components/Charts/"})]}),"\n",(0,t.jsx)(n.p,{children:"Il est n\xe9cessaire de 's'abonner' au composant chart-js afin de pouvoir rendre au client un graphique :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { BarElement, CategoryScale, Chart as ChartJS, Legend, LinearScale, Title, Tooltip } from 'chart.js'\r\nimport { Bar } from 'vue-chartjs'\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Les options permettent de g\xe9rer certains aspects du graphiques de mani\xe8res simple, ici nous allons rendre le graphique responsive en quelques lignes :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const options = {\r\n    responsive: true,\r\n    preserveAspectRatio: true\r\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Nous cr\xe9ons une variable ",(0,t.jsx)(n.strong,{children:"data"})," qui permettra de constituer la donn\xe9e n\xe9cessaire \xe0 l'affichage :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const data = {\r\n  labels: [\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n    'Sunday',\r\n  ],\r\n  datasets: [\r\n    {\r\n      label: 'Data One',\r\n      backgroundColor: '#f87979',\r\n      data: [40, 20, 12, 39, 10, 40, 39]\r\n    }\r\n  ]\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Puis nous rendons le graphique de cette fa\xe7on :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'export default {\r\n  name: "HoursPerMonthChart",\r\n  components: {\r\n    Bar\r\n  },\r\n  data() {\r\n    return {\r\n      data: data,\r\n      options: options\r\n    };\r\n  },\r\n}\r\n\r\n<template>\r\n    <Bar :data="data" :options="options" />\r\n</template>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"int\xe9gration-rapide-avec-vuetify-librairie-css",children:"Int\xe9gration rapide avec Vuetify (Librairie CSS)"}),"\n",(0,t.jsx)(n.h3,{id:"installation-2",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Yarn :\r\nyarn add vuetify\r\n\r\n# NPM :\r\nnpm install vuetify\r\n\r\n# pnpm :\r\npnpm i vuetify\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Dans le fichier ",(0,t.jsx)(n.em,{children:"main.js"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Vuetify\r\nimport 'vuetify/styles'\r\nimport { createVuetify } from 'vuetify'\r\nimport * as components from 'vuetify/components'\r\nimport * as directives from 'vuetify/directives'\r\n\r\nconst vuetify = createVuetify({\r\n  components,\r\n  directives,\r\n  // ssr: true, -> If server-side rendering is needed, we don't\r\n})\r\n\r\ncreateApp(App).use(router).use(vuetify).mount('#app')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"utilisation-1",children:"Utilisation"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://vuetifyjs.com/en/",children:"Documentation officielle"})}),"\n",(0,t.jsx)(n.p,{children:"Une fois la librairie install\xe9e, les composants peuvent \xeatre utilis\xe9s directement dans les composants Vue :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'/* Submit button example */\r\n<v-btn type="submit" block @click="submit" color="success" class="mt-2">Se connecter</v-btn>\r\n\r\n/* Table display example */\r\n<v-table v-if="renderComponent">\r\n    <thead>\r\n        <tr>\r\n            <th class="text-left">\r\n                Nom d\'utilisateur\r\n            </th>\r\n            <th class="text-left">\r\n                Email\r\n            </th>\r\n            <th class="text-right">\r\n                Action (Supprimer)\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tbody v-if="userList" :key="userList">\r\n        <tr v-for="item in userList" :key="item.id">\r\n            <td>{{ item.username || "Non renseign\xe9" }}</td>\r\n            <td>{{ item.email || "Non renseign\xe9" }}</td>\r\n            <td>\r\n                <v-container>\r\n                    <v-row justify="end">\r\n                        <v-col cols="auto" class="delete-icon">\r\n                            <v-btn block @click="deleteUser(item.id)" class="m-2" id="working-time-form">\r\n                                <svg-icon type="mdi" :path="pictures.delete"></svg-icon>\r\n                            </v-btn>\r\n                        </v-col>\r\n                    </v-row>\r\n                </v-container>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</v-table>\r\n\r\n/* [...] */\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.ah)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},3905:(e,n,r)=>{r.d(n,{ah:()=>c});var t=r(7294);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function o(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=t.createContext({}),c=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var r=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(r),h=i,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||s;return r?t.createElement(m,a(a({ref:n},u),{},{components:r})):t.createElement(m,a({ref:n},u))}));u.displayName="MDXCreateElement"}}]);